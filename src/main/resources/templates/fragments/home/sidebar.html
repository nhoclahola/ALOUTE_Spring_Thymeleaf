<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="sidebar">
<head>
    <meta charset="UTF-8">
    <title>Sidebar</title>
</head>
<body>
<!-- Sidebar -->
<div class="col-md-3 d-none d-md-block position-sticky vh-100 px-2" style="top: 0;">
    <div class="card h-100 d-flex flex-column justify-content-between p-3 shadow rounded-3">
        <div>
            <a href="/" class="d-flex justify-content-center align-items-center gap-2">
                <img th:src="@{/images/logos/hcmute.png}" alt="ALOUTE" class="img-fluid" style="width: 30px;">
                <span class="font-weight-bold ml-2">ALOUTE</span>
            </a>
            <div class="mt-4">
                <!-- Menu Items -->
                <a href="/" id="home-link" class="d-flex align-items-center py-2 px-3 text-decoration-none text-dark rounded">
                    <i class="bi bi-house-door mr-3"></i>
                    <span>Home</span>
                </a>
                <a href="/videos" id="popular-video-link" class="d-flex align-items-center py-2 px-3 text-decoration-none text-dark rounded">
                    <i class="bi bi-house-door mr-3"></i>
                    <span>Video</span>
                </a>
                <a href="notifications" id="notification-link" class="d-flex align-items-center py-2 px-3 text-decoration-none text-dark rounded">
                    <i class="bi bi-bell mr-3"></i>
                    <span>Notifications</span>
                    <span class="badge badge-danger ml-auto">3</span>
                </a>
                <a href="#" id="profile-link" class="d-flex align-items-center py-2 px-3 text-decoration-none text-dark rounded">
                    <i class="bi bi-bell mr-3"></i>
                    <span>Profile</span>
                    <span class="badge badge-danger ml-auto">3</span>
                </a>
                <!-- Add other menu items here -->
            </div>
        </div>
        <div class="d-flex justify-content-between align-items-center mt-3">
            <div class="d-flex align-items-center gap-2">
                <img src="https://upload.wikimedia.org/wikipedia/vi/1/12/Kenshi_Yonezu_-_Lemon.png" alt="Avatar" class="rounded-circle mr-3"
                     style="width: 40px; height: 40px;">
                <div>
                    <strong id="firstName"></strong>
                    <strong id="lastName"></strong>
                    <p id="username" class="text-muted mb-0">@</p>
                </div>
            </div>
            <button class="btn btn-link p-0">
                <i class="bi bi-three-dots-vertical"></i>
            </button>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const links = {
            '/': 'home-link',
            '/notifications': 'notification-link',
            '/profile': 'profile-link',
            '/videos': 'popular-video-link',
        };

        const currentPath = window.location.pathname;
        if (links[currentPath]) {
            const activeLink = document.getElementById(links[currentPath]);
            if (activeLink) {
                activeLink.classList.add('bg-secondary');
            }
        }

        // Ngăn không cho chuyển hướng nếu đã ở đúng đường dẫn
        Object.keys(links).forEach(path => {
            const link = document.getElementById(links[path]);
            if (link) {
                link.addEventListener('click', (event) => {
                    if (window.location.pathname === path) {
                        event.preventDefault(); // Ngừng chuyển hướng nếu đang ở đúng đường dẫn
                    }
                });
            }
        });
    });
</script>
<script src="/js/main.js"></script>
</body>
</html>